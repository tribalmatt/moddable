/*---
description: https://github.com/web-platform-tests/wpt/url/resources/urltestdata.json
flags: [module]
---*/

import { runTests } from "./url_FIXTURE.js";

const tests = [
	{
		"input": "http://example.com/﻿/foo",
		"base": "about:blank",
		"href": "http://example.com/%EF%BB%BF/foo",
		"origin": "http://example.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "example.com",
		"hostname": "example.com",
		"port": "",
		"pathname": "/%EF%BB%BF/foo",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://example.com/‮/foo/‭/bar",
		"base": "about:blank",
		"href": "http://example.com/%E2%80%AE/foo/%E2%80%AD/bar",
		"origin": "http://example.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "example.com",
		"hostname": "example.com",
		"port": "",
		"pathname": "/%E2%80%AE/foo/%E2%80%AD/bar",
		"search": "",
		"hash": ""
	},
	"# Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/script-tests/relative.js",
	{
		"input": "http://www.google.com/foo?bar=baz#",
		"base": "about:blank",
		"href": "http://www.google.com/foo?bar=baz#",
		"origin": "http://www.google.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www.google.com",
		"hostname": "www.google.com",
		"port": "",
		"pathname": "/foo",
		"search": "?bar=baz",
		"hash": ""
	},
	{
		"input": "http://www.google.com/foo?bar=baz# »",
		"base": "about:blank",
		"href": "http://www.google.com/foo?bar=baz#%20%C2%BB",
		"origin": "http://www.google.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www.google.com",
		"hostname": "www.google.com",
		"port": "",
		"pathname": "/foo",
		"search": "?bar=baz",
		"hash": "#%20%C2%BB"
	},
	{
		"input": "data:test# »",
		"base": "about:blank",
		"href": "data:test#%20%C2%BB",
		"origin": "null",
		"protocol": "data:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": "test",
		"search": "",
		"hash": "#%20%C2%BB"
	},
	{
		"input": "http://www.google.com",
		"base": "about:blank",
		"href": "http://www.google.com/",
		"origin": "http://www.google.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www.google.com",
		"hostname": "www.google.com",
		"port": "",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://192.0x00A80001",
		"base": "about:blank",
		"href": "http://192.168.0.1/",
		"origin": "http://192.168.0.1",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "192.168.0.1",
		"hostname": "192.168.0.1",
		"port": "",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://www/foo%2Ehtml",
		"base": "about:blank",
		"href": "http://www/foo%2Ehtml",
		"origin": "http://www",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www",
		"hostname": "www",
		"port": "",
		"pathname": "/foo%2Ehtml",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://www/foo/%2E/html",
		"base": "about:blank",
		"href": "http://www/foo/html",
		"origin": "http://www",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www",
		"hostname": "www",
		"port": "",
		"pathname": "/foo/html",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://user:pass@/",
		"base": "about:blank",
		"failure": true
	},
	{
		"input": "http://%25DOMAIN:foobar@foodomain.com/",
		"base": "about:blank",
		"href": "http://%25DOMAIN:foobar@foodomain.com/",
		"origin": "http://foodomain.com",
		"protocol": "http:",
		"username": "%25DOMAIN",
		"password": "foobar",
		"host": "foodomain.com",
		"hostname": "foodomain.com",
		"port": "",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	{
		"input": "http:\\\\www.google.com\\foo",
		"base": "about:blank",
		"href": "http://www.google.com/foo",
		"origin": "http://www.google.com",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "www.google.com",
		"hostname": "www.google.com",
		"port": "",
		"pathname": "/foo",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://foo:80/",
		"base": "about:blank",
		"href": "http://foo/",
		"origin": "http://foo",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "foo",
		"hostname": "foo",
		"port": "",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	{
		"input": "http://foo:81/",
		"base": "about:blank",
		"href": "http://foo:81/",
		"origin": "http://foo:81",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "foo:81",
		"hostname": "foo",
		"port": "81",
		"pathname": "/",
		"search": "",
		"hash": ""
	}
];

runTests(tests);
