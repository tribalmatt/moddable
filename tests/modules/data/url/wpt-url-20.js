/*---
description: https://github.com/web-platform-tests/wpt/url/resources/urltestdata.json
flags: [module]
---*/

import { runTests } from "./url_FIXTURE.js";

const tests = [
	{
		"input": "http://foo:ðŸ’©@example.com/bar",
		"base": "http://other.com/",
		"href": "http://foo:%F0%9F%92%A9@example.com/bar",
		"origin": "http://example.com",
		"protocol": "http:",
		"username": "foo",
		"password": "%F0%9F%92%A9",
		"host": "example.com",
		"hostname": "example.com",
		"port": "",
		"pathname": "/bar",
		"search": "",
		"hash": ""
	},
	"# resolving a fragment against any scheme succeeds",
	{
		"input": "#",
		"base": "test:test",
		"href": "test:test#",
		"origin": "null",
		"protocol": "test:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": "test",
		"search": "",
		"hash": ""
	},
	{
		"input": "#x",
		"base": "mailto:x@x.com",
		"href": "mailto:x@x.com#x",
		"origin": "null",
		"protocol": "mailto:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": "x@x.com",
		"search": "",
		"hash": "#x"
	},
	{
		"input": "#x",
		"base": "data:,",
		"href": "data:,#x",
		"origin": "null",
		"protocol": "data:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": ",",
		"search": "",
		"hash": "#x"
	},
	{
		"input": "#x",
		"base": "about:blank",
		"href": "about:blank#x",
		"origin": "null",
		"protocol": "about:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": "blank",
		"search": "",
		"hash": "#x"
	},
	{
		"input": "#",
		"base": "test:test?test",
		"href": "test:test?test#",
		"origin": "null",
		"protocol": "test:",
		"username": "",
		"password": "",
		"host": "",
		"hostname": "",
		"port": "",
		"pathname": "test",
		"search": "?test",
		"hash": ""
	},
	"# multiple @ in authority state",
	{
		"input": "https://@test@test@example:800/",
		"base": "http://doesnotmatter/",
		"href": "https://%40test%40test@example:800/",
		"origin": "https://example:800",
		"protocol": "https:",
		"username": "%40test%40test",
		"password": "",
		"host": "example:800",
		"hostname": "example",
		"port": "800",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	{
		"input": "https://@@@example",
		"base": "http://doesnotmatter/",
		"href": "https://%40%40@example/",
		"origin": "https://example",
		"protocol": "https:",
		"username": "%40%40",
		"password": "",
		"host": "example",
		"hostname": "example",
		"port": "",
		"pathname": "/",
		"search": "",
		"hash": ""
	},
	"non-az-09 characters",
	{
		"input": "http://`{}:`{}@h/`{}?`{}",
		"base": "http://doesnotmatter/",
		"href": "http://%60%7B%7D:%60%7B%7D@h/%60%7B%7D?`{}",
		"origin": "http://h",
		"protocol": "http:",
		"username": "%60%7B%7D",
		"password": "%60%7B%7D",
		"host": "h",
		"hostname": "h",
		"port": "",
		"pathname": "/%60%7B%7D",
		"search": "?`{}",
		"hash": ""
	},
	"byte is ' and url is special",
	{
		"input": "http://host/?'",
		"base": "about:blank",
		"href": "http://host/?%27",
		"origin": "http://host",
		"protocol": "http:",
		"username": "",
		"password": "",
		"host": "host",
		"hostname": "host",
		"port": "",
		"pathname": "/",
		"search": "?%27",
		"hash": ""
	},
	{
		"input": "notspecial://host/?'",
		"base": "about:blank",
		"href": "notspecial://host/?'",
		"origin": "null",
		"protocol": "notspecial:",
		"username": "",
		"password": "",
		"host": "host",
		"hostname": "host",
		"port": "",
		"pathname": "/",
		"search": "?'",
		"hash": ""
	}
];

runTests(tests);
