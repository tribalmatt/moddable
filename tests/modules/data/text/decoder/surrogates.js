/*---
description: 
flags: [module]
|---*/

import TextDecoder from "text/decoder";

const tests = [
	{ codePoints:[0x10000,0x10001,0x10002,0x10003,0x10004,0x10005,0x10006,0x10007], utf8:[0xf0,0x90,0x80,0x80,0xf0,0x90,0x80,0x81,0xf0,0x90,0x80,0x82,0xf0,0x90,0x80,0x83,0xf0,0x90,0x80,0x84,0xf0,0x90,0x80,0x85,0xf0,0x90,0x80,0x86,0xf0,0x90,0x80,0x87] },
	{ codePoints:[0x11000,0x11001,0x11002,0x11003,0x11004,0x11005,0x11006,0x11007], utf8:[0xf0,0x91,0x80,0x80,0xf0,0x91,0x80,0x81,0xf0,0x91,0x80,0x82,0xf0,0x91,0x80,0x83,0xf0,0x91,0x80,0x84,0xf0,0x91,0x80,0x85,0xf0,0x91,0x80,0x86,0xf0,0x91,0x80,0x87] },
	{ codePoints:[0x12000,0x12001,0x12002,0x12003,0x12004,0x12005,0x12006,0x12007], utf8:[0xf0,0x92,0x80,0x80,0xf0,0x92,0x80,0x81,0xf0,0x92,0x80,0x82,0xf0,0x92,0x80,0x83,0xf0,0x92,0x80,0x84,0xf0,0x92,0x80,0x85,0xf0,0x92,0x80,0x86,0xf0,0x92,0x80,0x87] },
	{ codePoints:[0x13000,0x13001,0x13002,0x13003,0x13004,0x13005,0x13006,0x13007], utf8:[0xf0,0x93,0x80,0x80,0xf0,0x93,0x80,0x81,0xf0,0x93,0x80,0x82,0xf0,0x93,0x80,0x83,0xf0,0x93,0x80,0x84,0xf0,0x93,0x80,0x85,0xf0,0x93,0x80,0x86,0xf0,0x93,0x80,0x87] },
	{ codePoints:[0x14000,0x14001,0x14002,0x14003,0x14004,0x14005,0x14006,0x14007], utf8:[0xf0,0x94,0x80,0x80,0xf0,0x94,0x80,0x81,0xf0,0x94,0x80,0x82,0xf0,0x94,0x80,0x83,0xf0,0x94,0x80,0x84,0xf0,0x94,0x80,0x85,0xf0,0x94,0x80,0x86,0xf0,0x94,0x80,0x87] },
	{ codePoints:[0x15000,0x15001,0x15002,0x15003,0x15004,0x15005,0x15006,0x15007], utf8:[0xf0,0x95,0x80,0x80,0xf0,0x95,0x80,0x81,0xf0,0x95,0x80,0x82,0xf0,0x95,0x80,0x83,0xf0,0x95,0x80,0x84,0xf0,0x95,0x80,0x85,0xf0,0x95,0x80,0x86,0xf0,0x95,0x80,0x87] },
	{ codePoints:[0x16000,0x16001,0x16002,0x16003,0x16004,0x16005,0x16006,0x16007], utf8:[0xf0,0x96,0x80,0x80,0xf0,0x96,0x80,0x81,0xf0,0x96,0x80,0x82,0xf0,0x96,0x80,0x83,0xf0,0x96,0x80,0x84,0xf0,0x96,0x80,0x85,0xf0,0x96,0x80,0x86,0xf0,0x96,0x80,0x87] },
	{ codePoints:[0x17000,0x17001,0x17002,0x17003,0x17004,0x17005,0x17006,0x17007], utf8:[0xf0,0x97,0x80,0x80,0xf0,0x97,0x80,0x81,0xf0,0x97,0x80,0x82,0xf0,0x97,0x80,0x83,0xf0,0x97,0x80,0x84,0xf0,0x97,0x80,0x85,0xf0,0x97,0x80,0x86,0xf0,0x97,0x80,0x87] },
	{ codePoints:[0x18000,0x18001,0x18002,0x18003,0x18004,0x18005,0x18006,0x18007], utf8:[0xf0,0x98,0x80,0x80,0xf0,0x98,0x80,0x81,0xf0,0x98,0x80,0x82,0xf0,0x98,0x80,0x83,0xf0,0x98,0x80,0x84,0xf0,0x98,0x80,0x85,0xf0,0x98,0x80,0x86,0xf0,0x98,0x80,0x87] },
	{ codePoints:[0x19000,0x19001,0x19002,0x19003,0x19004,0x19005,0x19006,0x19007], utf8:[0xf0,0x99,0x80,0x80,0xf0,0x99,0x80,0x81,0xf0,0x99,0x80,0x82,0xf0,0x99,0x80,0x83,0xf0,0x99,0x80,0x84,0xf0,0x99,0x80,0x85,0xf0,0x99,0x80,0x86,0xf0,0x99,0x80,0x87] },
	{ codePoints:[0x1a000,0x1a001,0x1a002,0x1a003,0x1a004,0x1a005,0x1a006,0x1a007], utf8:[0xf0,0x9a,0x80,0x80,0xf0,0x9a,0x80,0x81,0xf0,0x9a,0x80,0x82,0xf0,0x9a,0x80,0x83,0xf0,0x9a,0x80,0x84,0xf0,0x9a,0x80,0x85,0xf0,0x9a,0x80,0x86,0xf0,0x9a,0x80,0x87] },
	{ codePoints:[0x1b000,0x1b001,0x1b002,0x1b003,0x1b004,0x1b005,0x1b006,0x1b007], utf8:[0xf0,0x9b,0x80,0x80,0xf0,0x9b,0x80,0x81,0xf0,0x9b,0x80,0x82,0xf0,0x9b,0x80,0x83,0xf0,0x9b,0x80,0x84,0xf0,0x9b,0x80,0x85,0xf0,0x9b,0x80,0x86,0xf0,0x9b,0x80,0x87] },
	{ codePoints:[0x1c000,0x1c001,0x1c002,0x1c003,0x1c004,0x1c005,0x1c006,0x1c007], utf8:[0xf0,0x9c,0x80,0x80,0xf0,0x9c,0x80,0x81,0xf0,0x9c,0x80,0x82,0xf0,0x9c,0x80,0x83,0xf0,0x9c,0x80,0x84,0xf0,0x9c,0x80,0x85,0xf0,0x9c,0x80,0x86,0xf0,0x9c,0x80,0x87] },
// disabled to reduce memory
//	{ codePoints:[0x1d000,0x1d001,0x1d002,0x1d003,0x1d004,0x1d005,0x1d006,0x1d007], utf8:[0xf0,0x9d,0x80,0x80,0xf0,0x9d,0x80,0x81,0xf0,0x9d,0x80,0x82,0xf0,0x9d,0x80,0x83,0xf0,0x9d,0x80,0x84,0xf0,0x9d,0x80,0x85,0xf0,0x9d,0x80,0x86,0xf0,0x9d,0x80,0x87] },
//	{ codePoints:[0x1e000,0x1e001,0x1e002,0x1e003,0x1e004,0x1e005,0x1e006,0x1e007], utf8:[0xf0,0x9e,0x80,0x80,0xf0,0x9e,0x80,0x81,0xf0,0x9e,0x80,0x82,0xf0,0x9e,0x80,0x83,0xf0,0x9e,0x80,0x84,0xf0,0x9e,0x80,0x85,0xf0,0x9e,0x80,0x86,0xf0,0x9e,0x80,0x87] },
//	{ codePoints:[0x1f000,0x1f001,0x1f002,0x1f003,0x1f004,0x1f005,0x1f006,0x1f007], utf8:[0xf0,0x9f,0x80,0x80,0xf0,0x9f,0x80,0x81,0xf0,0x9f,0x80,0x82,0xf0,0x9f,0x80,0x83,0xf0,0x9f,0x80,0x84,0xf0,0x9f,0x80,0x85,0xf0,0x9f,0x80,0x86,0xf0,0x9f,0x80,0x87] },
//	{ codePoints:[0x10000,0x10001,0x10002,0x10003,0x10004,0x10005,0x10006,0x10007], utf8:[0xf0,0x90,0x80,0x80,0xf0,0x90,0x80,0x81,0xf0,0x90,0x80,0x82,0xf0,0x90,0x80,0x83,0xf0,0x90,0x80,0x84,0xf0,0x90,0x80,0x85,0xf0,0x90,0x80,0x86,0xf0,0x90,0x80,0x87] },
//	{ codePoints:[0x11000,0x11001,0x11002,0x11003,0x11004,0x11005,0x11006,0x11007], utf8:[0xf0,0x91,0x80,0x80,0xf0,0x91,0x80,0x81,0xf0,0x91,0x80,0x82,0xf0,0x91,0x80,0x83,0xf0,0x91,0x80,0x84,0xf0,0x91,0x80,0x85,0xf0,0x91,0x80,0x86,0xf0,0x91,0x80,0x87] },
//	{ codePoints:[0x12000,0x12001,0x12002,0x12003,0x12004,0x12005,0x12006,0x12007], utf8:[0xf0,0x92,0x80,0x80,0xf0,0x92,0x80,0x81,0xf0,0x92,0x80,0x82,0xf0,0x92,0x80,0x83,0xf0,0x92,0x80,0x84,0xf0,0x92,0x80,0x85,0xf0,0x92,0x80,0x86,0xf0,0x92,0x80,0x87] },
//	{ codePoints:[0x13000,0x13001,0x13002,0x13003,0x13004,0x13005,0x13006,0x13007], utf8:[0xf0,0x93,0x80,0x80,0xf0,0x93,0x80,0x81,0xf0,0x93,0x80,0x82,0xf0,0x93,0x80,0x83,0xf0,0x93,0x80,0x84,0xf0,0x93,0x80,0x85,0xf0,0x93,0x80,0x86,0xf0,0x93,0x80,0x87] },
//	{ codePoints:[0x14000,0x14001,0x14002,0x14003,0x14004,0x14005,0x14006,0x14007], utf8:[0xf0,0x94,0x80,0x80,0xf0,0x94,0x80,0x81,0xf0,0x94,0x80,0x82,0xf0,0x94,0x80,0x83,0xf0,0x94,0x80,0x84,0xf0,0x94,0x80,0x85,0xf0,0x94,0x80,0x86,0xf0,0x94,0x80,0x87] },
//	{ codePoints:[0x15000,0x15001,0x15002,0x15003,0x15004,0x15005,0x15006,0x15007], utf8:[0xf0,0x95,0x80,0x80,0xf0,0x95,0x80,0x81,0xf0,0x95,0x80,0x82,0xf0,0x95,0x80,0x83,0xf0,0x95,0x80,0x84,0xf0,0x95,0x80,0x85,0xf0,0x95,0x80,0x86,0xf0,0x95,0x80,0x87] },
//	{ codePoints:[0x16000,0x16001,0x16002,0x16003,0x16004,0x16005,0x16006,0x16007], utf8:[0xf0,0x96,0x80,0x80,0xf0,0x96,0x80,0x81,0xf0,0x96,0x80,0x82,0xf0,0x96,0x80,0x83,0xf0,0x96,0x80,0x84,0xf0,0x96,0x80,0x85,0xf0,0x96,0x80,0x86,0xf0,0x96,0x80,0x87] },
//	{ codePoints:[0x17000,0x17001,0x17002,0x17003,0x17004,0x17005,0x17006,0x17007], utf8:[0xf0,0x97,0x80,0x80,0xf0,0x97,0x80,0x81,0xf0,0x97,0x80,0x82,0xf0,0x97,0x80,0x83,0xf0,0x97,0x80,0x84,0xf0,0x97,0x80,0x85,0xf0,0x97,0x80,0x86,0xf0,0x97,0x80,0x87] },
//	{ codePoints:[0x18000,0x18001,0x18002,0x18003,0x18004,0x18005,0x18006,0x18007], utf8:[0xf0,0x98,0x80,0x80,0xf0,0x98,0x80,0x81,0xf0,0x98,0x80,0x82,0xf0,0x98,0x80,0x83,0xf0,0x98,0x80,0x84,0xf0,0x98,0x80,0x85,0xf0,0x98,0x80,0x86,0xf0,0x98,0x80,0x87] },
//	{ codePoints:[0x19000,0x19001,0x19002,0x19003,0x19004,0x19005,0x19006,0x19007], utf8:[0xf0,0x99,0x80,0x80,0xf0,0x99,0x80,0x81,0xf0,0x99,0x80,0x82,0xf0,0x99,0x80,0x83,0xf0,0x99,0x80,0x84,0xf0,0x99,0x80,0x85,0xf0,0x99,0x80,0x86,0xf0,0x99,0x80,0x87] },
//	{ codePoints:[0x1a000,0x1a001,0x1a002,0x1a003,0x1a004,0x1a005,0x1a006,0x1a007], utf8:[0xf0,0x9a,0x80,0x80,0xf0,0x9a,0x80,0x81,0xf0,0x9a,0x80,0x82,0xf0,0x9a,0x80,0x83,0xf0,0x9a,0x80,0x84,0xf0,0x9a,0x80,0x85,0xf0,0x9a,0x80,0x86,0xf0,0x9a,0x80,0x87] },
//	{ codePoints:[0x1b000,0x1b001,0x1b002,0x1b003,0x1b004,0x1b005,0x1b006,0x1b007], utf8:[0xf0,0x9b,0x80,0x80,0xf0,0x9b,0x80,0x81,0xf0,0x9b,0x80,0x82,0xf0,0x9b,0x80,0x83,0xf0,0x9b,0x80,0x84,0xf0,0x9b,0x80,0x85,0xf0,0x9b,0x80,0x86,0xf0,0x9b,0x80,0x87] },
//	{ codePoints:[0x1c000,0x1c001,0x1c002,0x1c003,0x1c004,0x1c005,0x1c006,0x1c007], utf8:[0xf0,0x9c,0x80,0x80,0xf0,0x9c,0x80,0x81,0xf0,0x9c,0x80,0x82,0xf0,0x9c,0x80,0x83,0xf0,0x9c,0x80,0x84,0xf0,0x9c,0x80,0x85,0xf0,0x9c,0x80,0x86,0xf0,0x9c,0x80,0x87] },
//	{ codePoints:[0x1d000,0x1d001,0x1d002,0x1d003,0x1d004,0x1d005,0x1d006,0x1d007], utf8:[0xf0,0x9d,0x80,0x80,0xf0,0x9d,0x80,0x81,0xf0,0x9d,0x80,0x82,0xf0,0x9d,0x80,0x83,0xf0,0x9d,0x80,0x84,0xf0,0x9d,0x80,0x85,0xf0,0x9d,0x80,0x86,0xf0,0x9d,0x80,0x87] },
//	{ codePoints:[0x1e000,0x1e001,0x1e002,0x1e003,0x1e004,0x1e005,0x1e006,0x1e007], utf8:[0xf0,0x9e,0x80,0x80,0xf0,0x9e,0x80,0x81,0xf0,0x9e,0x80,0x82,0xf0,0x9e,0x80,0x83,0xf0,0x9e,0x80,0x84,0xf0,0x9e,0x80,0x85,0xf0,0x9e,0x80,0x86,0xf0,0x9e,0x80,0x87] },
//	{ codePoints:[0x1f000,0x1f001,0x1f002,0x1f003,0x1f004,0x1f005,0x1f006,0x1f007], utf8:[0xf0,0x9f,0x80,0x80,0xf0,0x9f,0x80,0x81,0xf0,0x9f,0x80,0x82,0xf0,0x9f,0x80,0x83,0xf0,0x9f,0x80,0x84,0xf0,0x9f,0x80,0x85,0xf0,0x9f,0x80,0x86,0xf0,0x9f,0x80,0x87] },
];

const decoder = new TextDecoder;
for (let test of tests) {
	const s = String.fromCodePoint(...test.codePoints).split('');
	const r = decoder.decode(new Uint8Array(test.utf8)).split('');
	assert.sameValue(r.length, s.length, "lengths should match");
	s.forEach((value, i) => assert.sameValue(value, r[i], "units"));
}
