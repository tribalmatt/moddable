/*---
description: UCD/NormalizationTest.txt
flags: [onlyStrict]
includes: [compareArray.js]
---*/

const forms = [ "NFC", "NFD", "NFKC", "NFKD" ];

function toCodePoints(string) {
  let codes = [];
  for (let part of string)
    codes.push(part.codePointAt(0));
  return codes;
}

const tests = [
{ s:[0x1E0A], NFC:[0x1E0A], NFD:[0x0044,0x0307], NFKC:[0x1E0A], NFKD:[0x0044,0x0307], comment:"(Ḋ; Ḋ; D◌̇; Ḋ; D◌̇; ) LATIN CAPITAL LETTER D WITH DOT ABOVE" },
{ s:[0x1E0C], NFC:[0x1E0C], NFD:[0x0044,0x0323], NFKC:[0x1E0C], NFKD:[0x0044,0x0323], comment:"(Ḍ; Ḍ; D◌̣; Ḍ; D◌̣; ) LATIN CAPITAL LETTER D WITH DOT BELOW" },
{ s:[0x1E0A,0x0323], NFC:[0x1E0C,0x0307], NFD:[0x0044,0x0323,0x0307], NFKC:[0x1E0C,0x0307], NFKD:[0x0044,0x0323,0x0307], comment:"(Ḋ◌̣; Ḍ◌̇; D◌̣◌̇; Ḍ◌̇; D◌̣◌̇; ) LATIN CAPITAL LETTER D WITH DOT ABOVE, COMBINING DOT BELOW" },
{ s:[0x1E0C,0x0307], NFC:[0x1E0C,0x0307], NFD:[0x0044,0x0323,0x0307], NFKC:[0x1E0C,0x0307], NFKD:[0x0044,0x0323,0x0307], comment:"(Ḍ◌̇; Ḍ◌̇; D◌̣◌̇; Ḍ◌̇; D◌̣◌̇; ) LATIN CAPITAL LETTER D WITH DOT BELOW, COMBINING DOT ABOVE" },
{ s:[0x0044,0x0307,0x0323], NFC:[0x1E0C,0x0307], NFD:[0x0044,0x0323,0x0307], NFKC:[0x1E0C,0x0307], NFKD:[0x0044,0x0323,0x0307], comment:"(D◌̇◌̣; Ḍ◌̇; D◌̣◌̇; Ḍ◌̇; D◌̣◌̇; ) LATIN CAPITAL LETTER D, COMBINING DOT ABOVE, COMBINING DOT BELOW" },
{ s:[0x0044,0x0323,0x0307], NFC:[0x1E0C,0x0307], NFD:[0x0044,0x0323,0x0307], NFKC:[0x1E0C,0x0307], NFKD:[0x0044,0x0323,0x0307], comment:"(D◌̣◌̇; Ḍ◌̇; D◌̣◌̇; Ḍ◌̇; D◌̣◌̇; ) LATIN CAPITAL LETTER D, COMBINING DOT BELOW, COMBINING DOT ABOVE" },
{ s:[0x1E0A,0x031B], NFC:[0x1E0A,0x031B], NFD:[0x0044,0x031B,0x0307], NFKC:[0x1E0A,0x031B], NFKD:[0x0044,0x031B,0x0307], comment:"(Ḋ◌̛; Ḋ◌̛; D◌̛◌̇; Ḋ◌̛; D◌̛◌̇; ) LATIN CAPITAL LETTER D WITH DOT ABOVE, COMBINING HORN" },
{ s:[0x1E0C,0x031B], NFC:[0x1E0C,0x031B], NFD:[0x0044,0x031B,0x0323], NFKC:[0x1E0C,0x031B], NFKD:[0x0044,0x031B,0x0323], comment:"(Ḍ◌̛; Ḍ◌̛; D◌̛◌̣; Ḍ◌̛; D◌̛◌̣; ) LATIN CAPITAL LETTER D WITH DOT BELOW, COMBINING HORN" },
{ s:[0x1E0A,0x031B,0x0323], NFC:[0x1E0C,0x031B,0x0307], NFD:[0x0044,0x031B,0x0323,0x0307], NFKC:[0x1E0C,0x031B,0x0307], NFKD:[0x0044,0x031B,0x0323,0x0307], comment:"(Ḋ◌̛◌̣; Ḍ◌̛◌̇; D◌̛◌̣◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; ) LATIN CAPITAL LETTER D WITH DOT ABOVE, COMBINING HORN, COMBINING DOT BELOW" },
{ s:[0x1E0C,0x031B,0x0307], NFC:[0x1E0C,0x031B,0x0307], NFD:[0x0044,0x031B,0x0323,0x0307], NFKC:[0x1E0C,0x031B,0x0307], NFKD:[0x0044,0x031B,0x0323,0x0307], comment:"(Ḍ◌̛◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; ) LATIN CAPITAL LETTER D WITH DOT BELOW, COMBINING HORN, COMBINING DOT ABOVE" },
{ s:[0x0044,0x031B,0x0307,0x0323], NFC:[0x1E0C,0x031B,0x0307], NFD:[0x0044,0x031B,0x0323,0x0307], NFKC:[0x1E0C,0x031B,0x0307], NFKD:[0x0044,0x031B,0x0323,0x0307], comment:"(D◌̛◌̇◌̣; Ḍ◌̛◌̇; D◌̛◌̣◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; ) LATIN CAPITAL LETTER D, COMBINING HORN, COMBINING DOT ABOVE, COMBINING DOT BELOW" },
{ s:[0x0044,0x031B,0x0323,0x0307], NFC:[0x1E0C,0x031B,0x0307], NFD:[0x0044,0x031B,0x0323,0x0307], NFKC:[0x1E0C,0x031B,0x0307], NFKD:[0x0044,0x031B,0x0323,0x0307], comment:"(D◌̛◌̣◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; Ḍ◌̛◌̇; D◌̛◌̣◌̇; ) LATIN CAPITAL LETTER D, COMBINING HORN, COMBINING DOT BELOW, COMBINING DOT ABOVE" },
{ s:[0x00C8], NFC:[0x00C8], NFD:[0x0045,0x0300], NFKC:[0x00C8], NFKD:[0x0045,0x0300], comment:"(È; È; E◌̀; È; E◌̀; ) LATIN CAPITAL LETTER E WITH GRAVE" },
{ s:[0x0112], NFC:[0x0112], NFD:[0x0045,0x0304], NFKC:[0x0112], NFKD:[0x0045,0x0304], comment:"(Ē; Ē; E◌̄; Ē; E◌̄; ) LATIN CAPITAL LETTER E WITH MACRON" },
{ s:[0x0045,0x0300], NFC:[0x00C8], NFD:[0x0045,0x0300], NFKC:[0x00C8], NFKD:[0x0045,0x0300], comment:"(E◌̀; È; E◌̀; È; E◌̀; ) LATIN CAPITAL LETTER E, COMBINING GRAVE ACCENT" },
{ s:[0x0045,0x0304], NFC:[0x0112], NFD:[0x0045,0x0304], NFKC:[0x0112], NFKD:[0x0045,0x0304], comment:"(E◌̄; Ē; E◌̄; Ē; E◌̄; ) LATIN CAPITAL LETTER E, COMBINING MACRON" },
{ s:[0x1E14], NFC:[0x1E14], NFD:[0x0045,0x0304,0x0300], NFKC:[0x1E14], NFKD:[0x0045,0x0304,0x0300], comment:"(Ḕ; Ḕ; E◌̄◌̀; Ḕ; E◌̄◌̀; ) LATIN CAPITAL LETTER E WITH MACRON AND GRAVE" },
{ s:[0x0112,0x0300], NFC:[0x1E14], NFD:[0x0045,0x0304,0x0300], NFKC:[0x1E14], NFKD:[0x0045,0x0304,0x0300], comment:"(Ē◌̀; Ḕ; E◌̄◌̀; Ḕ; E◌̄◌̀; ) LATIN CAPITAL LETTER E WITH MACRON, COMBINING GRAVE ACCENT" },
{ s:[0x1E14,0x0304], NFC:[0x1E14,0x0304], NFD:[0x0045,0x0304,0x0300,0x0304], NFKC:[0x1E14,0x0304], NFKD:[0x0045,0x0304,0x0300,0x0304], comment:"(Ḕ◌̄; Ḕ◌̄; E◌̄◌̀◌̄; Ḕ◌̄; E◌̄◌̀◌̄; ) LATIN CAPITAL LETTER E WITH MACRON AND GRAVE, COMBINING MACRON" },
{ s:[0x0045,0x0304,0x0300], NFC:[0x1E14], NFD:[0x0045,0x0304,0x0300], NFKC:[0x1E14], NFKD:[0x0045,0x0304,0x0300], comment:"(E◌̄◌̀; Ḕ; E◌̄◌̀; Ḕ; E◌̄◌̀; ) LATIN CAPITAL LETTER E, COMBINING MACRON, COMBINING GRAVE ACCENT" },
{ s:[0x0045,0x0300,0x0304], NFC:[0x00C8,0x0304], NFD:[0x0045,0x0300,0x0304], NFKC:[0x00C8,0x0304], NFKD:[0x0045,0x0300,0x0304], comment:"(E◌̀◌̄; È◌̄; E◌̀◌̄; È◌̄; E◌̀◌̄; ) LATIN CAPITAL LETTER E, COMBINING GRAVE ACCENT, COMBINING MACRON" },
{ s:[0x05B8,0x05B9,0x05B1,0x0591,0x05C3,0x05B0,0x05AC,0x059F], NFC:[0x05B1,0x05B8,0x05B9,0x0591,0x05C3,0x05B0,0x05AC,0x059F], NFD:[0x05B1,0x05B8,0x05B9,0x0591,0x05C3,0x05B0,0x05AC,0x059F], NFKC:[0x05B1,0x05B8,0x05B9,0x0591,0x05C3,0x05B0,0x05AC,0x059F], NFKD:[0x05B1,0x05B8,0x05B9,0x0591,0x05C3,0x05B0,0x05AC,0x059F], comment:"(◌ָ◌ֹ◌ֱ◌֑׃◌ְ◌֬◌֟; ◌ֱ◌ָ◌ֹ◌֑׃◌ְ◌֬◌֟; ◌ֱ◌ָ◌ֹ◌֑׃◌ְ◌֬◌֟; ◌ֱ◌ָ◌ֹ◌֑׃◌ְ◌֬◌֟; ◌ֱ◌ָ◌ֹ◌֑׃◌ְ◌֬◌֟; ) HEBREW POINT QAMATS, HEBREW POINT HOLAM, HEBREW POINT HATAF SEGOL, HEBREW ACCENT ETNAHTA, HEBREW PUNCTUATION SOF PASUQ, HEBREW POINT SHEVA, HEBREW ACCENT ILUY, HEBREW ACCENT QARNEY PARA" },
{ s:[0x0592,0x05B7,0x05BC,0x05A5,0x05B0,0x05C0,0x05C4,0x05AD], NFC:[0x05B0,0x05B7,0x05BC,0x05A5,0x0592,0x05C0,0x05AD,0x05C4], NFD:[0x05B0,0x05B7,0x05BC,0x05A5,0x0592,0x05C0,0x05AD,0x05C4], NFKC:[0x05B0,0x05B7,0x05BC,0x05A5,0x0592,0x05C0,0x05AD,0x05C4], NFKD:[0x05B0,0x05B7,0x05BC,0x05A5,0x0592,0x05C0,0x05AD,0x05C4], comment:"(◌֒◌ַ◌ּ◌֥◌ְ׀◌ׄ◌֭; ◌ְ◌ַ◌ּ◌֥◌֒׀◌֭◌ׄ; ◌ְ◌ַ◌ּ◌֥◌֒׀◌֭◌ׄ; ◌ְ◌ַ◌ּ◌֥◌֒׀◌֭◌ׄ; ◌ְ◌ַ◌ּ◌֥◌֒׀◌֭◌ׄ; ) HEBREW ACCENT SEGOL, HEBREW POINT PATAH, HEBREW POINT DAGESH OR MAPIQ, HEBREW ACCENT MERKHA, HEBREW POINT SHEVA, HEBREW PUNCTUATION PASEQ, HEBREW MARK UPPER DOT, HEBREW ACCENT DEHI" },
{ s:[0x1100,0xAC00,0x11A8], NFC:[0x1100,0xAC01], NFD:[0x1100,0x1100,0x1161,0x11A8], NFKC:[0x1100,0xAC01], NFKD:[0x1100,0x1100,0x1161,0x11A8], comment:"(ᄀ각; ᄀ각; ᄀ각; ᄀ각; ᄀ각; ) HANGUL CHOSEONG KIYEOK, HANGUL SYLLABLE GA, HANGUL JONGSEONG KIYEOK" },
{ s:[0x1100,0xAC00,0x11A8,0x11A8], NFC:[0x1100,0xAC01,0x11A8], NFD:[0x1100,0x1100,0x1161,0x11A8,0x11A8], NFKC:[0x1100,0xAC01,0x11A8], NFKD:[0x1100,0x1100,0x1161,0x11A8,0x11A8], comment:"(ᄀ각ᆨ; ᄀ각ᆨ; ᄀ각ᆨ; ᄀ각ᆨ; ᄀ각ᆨ; ) HANGUL CHOSEONG KIYEOK, HANGUL SYLLABLE GA, HANGUL JONGSEONG KIYEOK, HANGUL JONGSEONG KIYEOK" },
];

for (let test of tests) {
	let s = String.fromCodePoint(...test.s);
	for (let form of forms) {
		let ns = s.normalize(form);
		assert.compareArray(toCodePoints(ns), test[form], test.comment);
	}
}
